## 1、Pipeline流水线执行安装应用市场的应用出现权限不足的现象，二次执行流水线安装日志报告401的问题
```
因为此问题，费了大概7天的时间，搞得人精疲力竭，所以记下此次解决问题的过程，以便后续能快速定位解决；
查看和解决问题思路：
1、第一阶段：走的第一个坑
初始的错误信息都是由测试人员提供：
   linkcloud出现此问题，对照rancher原版发现也有这个问题，然后使用新版rancher没有此问题，这里认为是rancher原本就有问题，
因此开发这边给出的解决方案是合入新版本的代码。
然后我吭哧吭哧的用了两天时间合入代码并调试（因为不确定是那部分代码的问题，所以是合入一部分再调试一部分），合入所有的代码，
发现还是同样的现象，报401问题，一点也没有改变，这时候我就有点懵了，怎么回事呢？这时候的第一个想法就是这个问题跟版本没有
关系，但测试确实发现rancher原版也有此问题，这个就矛盾了？
遇到矛盾的地方，短时间想不出来，那就需要尝试做一些测试了；
使用rancher原版部署了一个新环境，发现没有此问题；这个时候走出来了一个坑，原来测试人员使用的rancher原版的环境本来就有问题；
2、第二阶段：查源码，找原因
第一阶段的结果确认是本身代码的原因，根据报错现象查看流水线对应用户所需要的权限，进入server容器内部，发现流水线进行app部署时会专门创建对应project的user，而此user会被删除，不知道什么原因；
没办法，因为不清楚代码流程，只能遍历流水线相关的所有代码，找到删除user的地方，结果是有条件删除user的地方根本不可能会执行，这里陷入僵局；
3、第三阶段：看日志
第二阶段没结果，那只能在执行操作时，遍历所有的rancher server的日志，这个又是一长串的查找工作，结果在cluster deploy的地方找到可能删除user的地方，
奇怪的是，删除条件是cluster不存在或cluster在删除中；而根据日志中的信息cluster是p开头，肯定不正常，也就是说（推测）project当作了cluster推入了queue中，导致在cluster deploy这里因为找不到cluster，从而删除了user；
而哪个地方把project当作cluster推入queue，这个真不好找；
4、第四阶段：坚持（碰运气）
同事坚持把cluster相关的controller一个个看过来，最终在clusterstat找到appchange这里，发现了在应用部署时，会把其对应的project推入cluster的queue中；

```

## 2、使用混合云模式进行部署，发现创建阿里云节点失败，然后在节点或编辑集群界面删除了对应的Nodepool，由于把仅剩的nodepool删除了，当前的集群模式
从混合云变为了自有节点，过一段时间，集群状态变为running，点击编辑集群出现503报错现象，显示集群不存在；

```
目前经过测试，此问题现象是偶发的，再次重新部署，重复同样的操作，没有此问题
```
